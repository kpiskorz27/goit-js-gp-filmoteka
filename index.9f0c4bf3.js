(()=>{let e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})();const e="ddd78f0e80e0d30735adfd081ca2dc47",t=`https://api.themoviedb.org/3/movie/popular?api_key=${e}`;async function n(t){let n=`https://api.themoviedb.org/3/movie/${t}?api_key=${e}&language=en-US`;try{let e=await fetch(n);return await e.json()}catch(e){return console.error("Error while fetching movie details:",e),null}}async function a(e=1){let a=`${t}&page=${e}`;try{let e=await fetch(a),t=await e.json(),l=t.results;return{movies:await Promise.all(l.map(async e=>{let t=await n(e.id);return{...e,...t}})),totalPages:t.total_pages}}catch(e){return console.error("Error while fetching data:",e),{movies:[],totalPages:0}}}async function l(e){let{movies:t,totalPages:n}=await a(e);!function(e){let t=document.querySelector(".film-list");t.innerHTML="";let n=e.map(e=>(function(e){let t=document.createElement("div");t.classList.add("movie-item");let n=document.createElement("img");n.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,n.alt=e.title,t.appendChild(n);let a=document.createElement("h2");a.textContent=e.title,t.appendChild(a);let l=e.genres.map(e=>e.name),o=document.createElement("p");o.textContent=`Genres: ${l.join(", ")}`,t.appendChild(o);let d=document.createElement("p"),i=new Date(e.release_date).getFullYear();d.textContent=`Year: ${i}`,t.appendChild(d);let c=document.createElement("p"),r=e.vote_average.toFixed(1);return c.textContent=`Rating: ${r}`,t.appendChild(c),t})(e));t.append(...n)}(t),function(e,t){let n=document.querySelector(".pagination");n.innerHTML="";let a=1,o=Math.min(5,e);e>5&&(o=(a=Math.max(t-Math.floor(2.5),1))+5-1)>=1e3&&(a=Math.max((o=1e3)-5+1,1));let d=document.createElement("button");if(d.textContent="<<",d.classList.add("page-button","first-button"),d.addEventListener("click",()=>{l(1)}),n.appendChild(d),a>1){let e=document.createElement("span");e.textContent="...",n.appendChild(e)}for(let e=a;e<=o;e++){let a=document.createElement("button");a.textContent=e,a.classList.add("page-button"),e===t&&a.classList.add("active"),a.addEventListener("click",()=>{l(e)}),n.appendChild(a)}if(o<e){let t=document.createElement("span");t.textContent="...",n.appendChild(t);let a=Math.min(o+15,e),d=document.createElement("button");d.textContent=a,d.classList.add("page-button"),d.addEventListener("click",()=>{l(a)}),n.appendChild(d)}let i=document.createElement("button");i.textContent=">>",i.classList.add("page-button","last-button"),i.addEventListener("click",()=>{l(Math.min(t+1,e))}),n.appendChild(i)}(n,e)}async function o(){l(1)}window.addEventListener("load",o);
//# sourceMappingURL=index.9f0c4bf3.js.map
