const t="ddd78f0e80e0d30735adfd081ca2dc47",e=`https://api.themoviedb.org/3/movie/popular?api_key=${t}`;async function n(e){let n=`https://api.themoviedb.org/3/movie/${e}?api_key=${t}&language=en-US`;try{let t=await fetch(n);return await t.json()}catch(t){return console.error("Error while fetching movie details:",t),null}}async function a(t=1){let a=`${e}&page=${t}`;try{let t=await fetch(a),e=await t.json(),l=e.results;return{movies:await Promise.all(l.map(async t=>{let e=await n(t.id);return{...t,...e}})),totalPages:e.total_pages}}catch(t){return console.error("Error while fetching data:",t),{movies:[],totalPages:0}}}async function l(t){let{movies:e,totalPages:n}=await a(t);!function(t){let e=document.querySelector(".film-list");e.innerHTML="";let n=t.map(t=>{let e=document.createElement("div");e.classList.add("movie-item");let n=document.createElement("img");n.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`,n.alt=t.title,e.appendChild(n);let a=document.createElement("h2");a.textContent=t.title,e.appendChild(a);let l=t.genres.map(t=>t.name),o=document.createElement("p");o.textContent=`Genres: ${l.join(", ")}`,e.appendChild(o);let i=document.createElement("p"),d=new Date(t.release_date).getFullYear();i.textContent=`Year: ${d}`,e.appendChild(i);let r=document.createElement("p"),c=t.vote_average.toFixed(1);return r.textContent=`Rating: ${c}`,e.appendChild(r),e});e.append(...n)}(e),function(t,e){let n=document.querySelector(".pagination");n.innerHTML="";let a=Math.max(1,e-Math.floor(3.5)),o=Math.min(a+7-1,t);o-a+1<7&&(a=Math.max(1,o-7+1)),e<=Math.floor(3.5)+1&&(o=Math.min(7,t)),e>=t-Math.floor(3.5)&&(a=Math.max(t-7+1,1),o=t);let i=document.createElement("button");if(i.textContent="<<",i.classList.add("page-button","first-button"),i.addEventListener("click",()=>{l(1)}),n.appendChild(i),a>1){let t=document.createElement("span");t.textContent="...",n.appendChild(t)}for(let t=a;t<=o;t++){let a=document.createElement("button");a.textContent=t,a.classList.add("page-button"),t===e&&a.classList.add("active"),a.addEventListener("click",()=>{l(t)}),n.appendChild(a)}if(t>20&&e<=Math.floor(3.5)+1){let t=document.createElement("span");t.textContent="...",n.appendChild(t);let e=document.createElement("button");e.textContent="20",e.classList.add("page-button"),e.addEventListener("click",()=>{l(20)}),n.appendChild(e)}if(e>=t-Math.floor(3.5)&&t>20){let t=document.createElement("span");t.textContent="...",n.appendChild(t)}let d=document.createElement("button");d.textContent=">>",d.classList.add("page-button","last-button"),d.addEventListener("click",()=>{l(t)}),n.appendChild(d)}(n,t)}async function o(){l(1)}window.addEventListener("load",o);
//# sourceMappingURL=index.94deea9d.js.map
