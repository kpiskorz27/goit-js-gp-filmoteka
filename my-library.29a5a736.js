var e=globalThis,t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n);var o=n.register;o("5PtdM",function(e,t){Object.defineProperty(e.exports,"addToLibrary",{get:()=>a,set:void 0,enumerable:!0,configurable:!0});let r=document.querySelector(".queue-button");document.querySelector(".movie-modal");let n=JSON.parse(localStorage.getItem("queue"));Array.isArray(n)||(n=[]);let o={poster_path:"/hu40Uxp9WtpL34jv3zyWLb5zEVY.jpg",genres:[{id:28,name:"Horror"},{id:27,name:"Dramat"},{id:80,name:"Crime"}],id:872585,release_date:"2024-01-18",vote_average:5.444,title:"No Way Up"};r.addEventListener("click",()=>{n.push(o),console.log(n),a("queue",n)});let a=(e,t)=>{try{let r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.log(e)}}}),o("3xRUa",function(e,t){var r=n("5PtdM");let o=document.querySelector(".watched-button"),a=JSON.parse(localStorage.getItem("watched"));Array.isArray(a)||(a=[]);let i={poster_path:"/kDp1vUBnMpe8ak4rjgl3cLELqjU.jpg",genres:[{id:28,name:"Action"},{id:16,name:"Animation"}],id:870404,release_date:"2024-03-02",vote_average:6.976,title:"Kung Fu Panda 4"};o.addEventListener("click",()=>{a.push(i),console.log(a),(0,r.addToLibrary)("watched",a)})}),o("8sx2c",function(e,t){let r=document.querySelector(".movie-modal"),n=document.querySelector(".movie-backdrop"),o=document.querySelector(".modal-close-btn");function a(e){e.preventDefault(),n.classList.remove("is-hidden"),r.classList.remove("is-hidden"),o.addEventListener("click",i)}function i(e){e.preventDefault(),n.classList.add("is-hidden"),r.classList.add("is-hidden"),document.removeEventListener("keydown",l),n.removeEventListener("click",i),o.removeEventListener("click",i)}function l(e){"Escape"===e.code&&i(e)}document.addEventListener("click",function(e){e.target.classList.contains("movie-backdrop")&&i(e)}),window.addEventListener("keydown",l),function e(){let t=document.querySelectorAll(".film-list");t.length?[...t].forEach(e=>{e.addEventListener("click",a)}):setTimeout(e,1e3)}()}),n("5PtdM"),n("3xRUa"),n("8sx2c");const a=document.querySelector(".film-list");function i(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function l(e){let t=e.map(({poster_path:e,title:t,id:r,genres:n,release_date:o,vote_average:a})=>{let i;return i=n.length>2?`${n[0].name}, ${n[1].name}, Other`:`${n[0].name}, ${n[1].name}`,`<div class="movie-item", data-modal-open, data-id="${r}">
            <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}" loading="lazy" />
                <h2 class="">${t}</h2>
                <div class="content-wrapper">
                    <p> ${i}</p>
                    <p class="movie-year"> | ${new Date(o).getFullYear()}</p>
                    <p class="main-rating">${a.toFixed(1)}</p>
                </div>
                </div>`}).join("");a.insertAdjacentHTML("beforeend",t)}window.addEventListener("load",async()=>{if(JSON.parse(localStorage.getItem("queue"))||JSON.parse(localStorage.getItem("watched"))){let e=[...await i("queue"),...await i("watched")];console.log(e),l(e)}else a.insertAdjacentHTML("beforeend","Sorry, there is no films in your library")});const c=document.querySelector("#gueueButton"),d=document.querySelector(".film-list");c.addEventListener("click",async()=>{if(d.innerHTML="",JSON.parse(localStorage.getItem("queue"))){let e=await i("queue");console.log(e),l(e)}else d.insertAdjacentHTML("beforeend","Sorry, there is no films in your queue")});const s=document.querySelector("#watchedButton"),u=document.querySelector(".film-list");s.addEventListener("click",async()=>{if(u.innerHTML="",JSON.parse(localStorage.getItem("watched"))){let e=await i("watched");console.log(e),l(e)}else u.insertAdjacentHTML("beforeend","Sorry, there is no films in your watched")});
//# sourceMappingURL=my-library.29a5a736.js.map
