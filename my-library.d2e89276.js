var e=globalThis,t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var o=a.register;o("5PtdM",function(e,t){Object.defineProperty(e.exports,"addToLibrary",{get:()=>n,set:void 0,enumerable:!0,configurable:!0});let r=document.querySelector(".queue-button");document.querySelector(".movie-modal");let a=JSON.parse(localStorage.getItem("queue"));Array.isArray(a)||(a=[]);let o={poster_path:"/hu40Uxp9WtpL34jv3zyWLb5zEVY.jpg",genres:[{id:28,name:"Horror"},{id:27,name:"Dramat"},{id:80,name:"Crime"}],id:872585,release_date:"2024-01-18",vote_average:5.444,title:"No Way Up"};r.addEventListener("click",()=>{a.push(o),console.log(a),n("queue",a)});let n=(e,t)=>{try{let r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.log(e)}}}),o("3xRUa",function(e,t){var r=a("5PtdM");let o=document.querySelector(".watched-button"),n=JSON.parse(localStorage.getItem("watched"));Array.isArray(n)||(n=[]);let i={poster_path:"/kDp1vUBnMpe8ak4rjgl3cLELqjU.jpg",genres:[{id:28,name:"Action"},{id:16,name:"Animation"}],id:870404,release_date:"2024-03-02",vote_average:6.976,title:"Kung Fu Panda 4"};o.addEventListener("click",()=>{n.push(i),console.log(n),(0,r.addToLibrary)("watched",n)})}),o("8sx2c",function(e,t){let r=document.querySelector(".movie-modal"),a=document.querySelector(".movie-backdrop"),o=document.querySelector(".modal-close-btn");function n(e){e.preventDefault(),a.classList.remove("is-hidden"),r.classList.remove("is-hidden"),o.addEventListener("click",i)}function i(e){e.preventDefault(),a.classList.add("is-hidden"),r.classList.add("is-hidden"),document.removeEventListener("keydown",c),a.removeEventListener("click",i),o.removeEventListener("click",i)}function c(e){"Escape"===e.code&&i(e)}document.addEventListener("click",function(e){e.target.classList.contains("movie-backdrop")&&i(e)}),window.addEventListener("keydown",c),function e(){let t=document.querySelectorAll(".film-list");t.length?[...t].forEach(e=>{e.addEventListener("click",n)}):setTimeout(e,1e3)}()}),a("5PtdM"),a("3xRUa"),a("8sx2c");const n=document.querySelector(".film-list");function i(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function c(e){let t=e.map(({poster_path:e,title:t,id:r,genres:a,release_date:o,vote_average:n})=>{let i;return i=a.length>2?`${a[0].name}, ${a[1].name}, Other`:`${a[0].name}, ${a[1].name}`,`<div class="movie-item", data-modal-open, data-id="${r}">
            <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}" loading="lazy" />
                <h2 class="">${t}</h2>
                <div class="content-wrapper">
                    <p> ${i}</p>
                    <p class="movie-year"> | ${new Date(o).getFullYear()}</p>
                    <p class="main-rating">${n.toFixed(1)}</p>
                </div>
                </div>`}).join("");n.insertAdjacentHTML("beforeend",t)}window.addEventListener("load",async()=>{if(JSON.parse(localStorage.getItem("queue"))||JSON.parse(localStorage.getItem("watched"))){let e=[...await i("queue"),...await i("watched")];console.log(e),c(e)}else n.insertAdjacentHTML("beforeend","Sorry, there is no films in your library")});const l=document.querySelector("#gueueButton"),s=document.querySelector("#watchedButton"),d=document.querySelector(".film-list");l.addEventListener("click",async()=>{if(d.innerHTML="",l.classList.add("active"),s.classList.remove("active"),JSON.parse(localStorage.getItem("queue"))){let e=await i("queue");console.log(e),c(e)}else d.insertAdjacentHTML("beforeend","Sorry, there is no films in your queue")});const u=document.querySelector("#watchedButton"),m=document.querySelector("#gueueButton"),v=document.querySelector(".film-list");u.addEventListener("click",async()=>{if(v.innerHTML="",m.classList.remove("active"),u.classList.add("active"),JSON.parse(localStorage.getItem("watched"))){let e=await i("watched");console.log(e),c(e)}else v.insertAdjacentHTML("beforeend","Sorry, there is no films in your watched")});
//# sourceMappingURL=my-library.d2e89276.js.map
