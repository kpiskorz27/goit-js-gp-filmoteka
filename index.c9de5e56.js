const t="ddd78f0e80e0d30735adfd081ca2dc47",e=`https://api.themoviedb.org/3/movie/popular?api_key=${t}`;async function n(e){let n=`https://api.themoviedb.org/3/movie/${e}?api_key=${t}&language=en-US`;try{let t=await fetch(n);return await t.json()}catch(t){return console.error("Error while fetching movie details:",t),null}}async function a(t=1){let a=`${e}&page=${t}`;try{let t=await fetch(a),e=await t.json(),l=e.results;return{movies:await Promise.all(l.map(async t=>{let e=await n(t.id);return{...t,...e}})),totalPages:e.total_pages}}catch(t){return console.error("Error while fetching data:",t),{movies:[],totalPages:0}}}async function l(t){let{movies:e,totalPages:n}=await a(t);!function(t){let e=document.querySelector(".film-list");e.innerHTML="";let n=t.map(t=>{let e=document.createElement("div");e.classList.add("movie-item");let n=document.createElement("img");n.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`,n.alt=t.title,e.appendChild(n);let a=document.createElement("h2");a.textContent=t.title,e.appendChild(a);let l=t.genres.map(t=>t.name),i=document.createElement("p");i.textContent=`Genres: ${l.join(", ")}`,e.appendChild(i);let o=document.createElement("p"),d=new Date(t.release_date).getFullYear();o.textContent=`Year: ${d}`,e.appendChild(o);let c=document.createElement("p"),r=t.vote_average.toFixed(1);return c.textContent=`Rating: ${r}`,e.appendChild(c),e});e.append(...n)}(e),function(t,e){let n=document.querySelector(".pagination");n.innerHTML="";let a=1,i=Math.min(5,t);t>5&&(i=(a=Math.max(e-Math.floor(2.5),1))+5-1)>=1e3&&(a=Math.max((i=1e3)-5+1,1));let o=document.createElement("button");if(o.textContent="<<",o.classList.add("page-button","first-button"),o.addEventListener("click",()=>{l(1)}),n.appendChild(o),a>1){let t=document.createElement("span");t.textContent="...",n.appendChild(t)}for(let t=a;t<=i;t++){let a=document.createElement("button");a.textContent=t,a.classList.add("page-button"),t===e&&a.classList.add("active"),a.addEventListener("click",()=>{l(t)}),n.appendChild(a)}if(i<t){let e=document.createElement("span");e.textContent="...",n.appendChild(e);let a=Math.min(i+15,t),o=document.createElement("button");o.textContent=a,o.classList.add("page-button"),o.addEventListener("click",()=>{l(a)}),n.appendChild(o)}let d=document.createElement("button");d.textContent=">>",d.classList.add("page-button","last-button"),d.addEventListener("click",()=>{l(Math.min(e+1,t))}),n.appendChild(d)}(n,t)}async function i(){l(1)}window.addEventListener("load",i);
//# sourceMappingURL=index.c9de5e56.js.map
