var e=globalThis,t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var o=n.register;o("5PtdM",function(e,t){}),o("3xRUa",function(e,t){}),o("8sx2c",function(e,t){(()=>{let e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})()}),o("g1uI7",function(e,t){let a="ddd78f0e80e0d30735adfd081ca2dc47",n=`https://api.themoviedb.org/3/movie/popular?api_key=${a}`;async function o(e){let t=`https://api.themoviedb.org/3/movie/${e}?api_key=${a}&language=en-US`;try{let e=await fetch(t);return await e.json()}catch(e){return console.error("Error while fetching movie details:",e),null}}async function i(e=1){let t=`${n}&page=${e}`;try{let e=await fetch(t),a=await e.json(),n=a.results;return{movies:await Promise.all(n.map(async e=>{let t=await o(e.id);return{...e,...t}})),totalPages:a.total_pages}}catch(e){return console.error("Error while fetching data:",e),{movies:[],totalPages:0}}}function l(e){let t=document.querySelector(".film-list");t.innerHTML="";let a=e.map(e=>(function(e){let t=document.createElement("div");t.classList.add("movie-item");let a=document.createElement("img");a.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,a.alt=e.title,t.appendChild(a);let n=document.createElement("h2");n.textContent=e.title,t.appendChild(n);let o=e.genres.map(e=>e.name),i="";i=o.length>2?`${o.slice(0,2).join(", ")}, Other`:o.join(", ");let l=document.createElement("p");l.textContent=i,t.appendChild(l);let r=document.createElement("p"),c=new Date(e.release_date).getFullYear();r.textContent=`${c}`,t.appendChild(r);let d=document.createElement("p"),s=e.vote_average.toFixed(1);return d.textContent=`${s}`,t.appendChild(d),t})(e));t.append(...a)}async function r(e){let{movies:t,totalPages:n}=await i(e);l(t),function e(t,n){let i=document.querySelector(".pagination");i.innerHTML="";let c=1,d=Math.min(5,t);t>5&&(d=(c=Math.max(n-Math.floor(2.5),1))+5-1)>=1e3&&(c=Math.max((d=1e3)-5+1,1));let s=document.createElement("button");if(s.textContent="<<",s.classList.add("page-button","first-button"),s.addEventListener("click",()=>{r(1)}),i.appendChild(s),c>1){let e=document.createElement("span");e.textContent="...",i.appendChild(e)}for(let e=c;e<=d;e++){let t=document.createElement("button");t.textContent=e,t.classList.add("page-button"),e===n&&t.classList.add("active"),t.addEventListener("click",()=>{r(e)}),i.appendChild(t)}if(d<t){let e=document.createElement("span");e.textContent="...",i.appendChild(e);let a=Math.min(d+15,t),n=document.createElement("button");n.textContent=a,n.classList.add("page-button"),n.addEventListener("click",()=>{r(a)}),i.appendChild(n)}let u=document.createElement("button");async function m(e,t=1){let n=`https://api.themoviedb.org/3/search/movie?api_key=${a}&query=${encodeURIComponent(e)}&page=${t}`;try{let e=await fetch(n),t=await e.json(),a=t.results;return{movies:await Promise.all(a.map(async e=>{let t=await o(e.id);return{...e,...t}})),totalPages:t.total_pages}}catch(e){return console.error("Error while searching movies:",e),{movies:[],totalPages:0}}}async function m(e,t=1){let n=`https://api.themoviedb.org/3/search/movie?api_key=${a}&query=${encodeURIComponent(e)}&page=${t}`;try{let e=await fetch(n),t=await e.json(),a=t.results;return{movies:await Promise.all(a.map(async e=>{let t=await o(e.id);return{...e,...t}})),totalPages:t.total_pages}}catch(e){return console.error("Error while searching movies:",e),{movies:[],totalPages:0}}}async function p(t){let{movies:a,totalPages:n}=await m(t);l(a),e(n,1)}u.textContent=">>",u.classList.add("page-button","last-button"),u.addEventListener("click",()=>{r(Math.min(n+1,t))}),i.appendChild(u),document.querySelector(".search-form").addEventListener("submit",function(e){e.preventDefault(),p(document.querySelector(".search-input").value)})}(n,e)}async function c(){r(1)}window.addEventListener("load",c)}),n("5PtdM"),n("3xRUa"),n("8sx2c"),n("g1uI7");
//# sourceMappingURL=index.5a3a6743.js.map
